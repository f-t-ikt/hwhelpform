<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>学生用画面</title>
    </head>
    
    <body>
        <p>学生用画面</p>
        <select id="room">
            <option value="">---</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
        </select>
        <button onclick='send("help")'>質問する</button>
        <button onclick='send("call")'>先生を呼ぶ</button>
        <div id="help"></div>
        <div id="call"></div>
        
        <script>
            var room = document.getElementById("room");
            var help = document.getElementById("help");
            var call = document.getElementById("call");
            var socket = new WebSocket("ws://" + window.location.host + "/update");
            
            socket.onopen = function() {
                help.innerHTML += "LOAD\n";
                call.innerHTML += "LOAD\n";
            };
            
            socket.onmessage = function(e) {
                help.innerHTML += e.data + "\n";
                call.innerHTML += e.data + "\n";
            };
            
            function send(method) {
                alert(method);
                <!-- socket.send(JSON.stringify( -->
                    <!-- { -->
                        <!-- method: method -->
                        <!-- id:room.value -->
                    <!-- } -->
                <!-- )); -->
            }
        </script>
    </body>
</html>